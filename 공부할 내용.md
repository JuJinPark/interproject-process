### 공부할 내용
- oauth 인증 및 절차
- mysql naming convention
- 동시성 프로그램밍 화면에 어드민이 여러 명이서 작업할떄
- git flow
- factory method구현후

### 고민하는 내용
- 로그인 절차
    - jwt를 탈취해 다른 사람이 통신하는 경우대비
    - 쿠기만료 시간 설정과 jwt 만료시 행위
    - jwt토큰과 기존 다른 로그인후에 확인하는 절차 
    - vue와의 통신 방향 라우터러 할시에 서버에서 검증하는 방식 특정 url로 검정을 계속해서 받을 거냐 아님 그냥 요청해서 받을거냐

- 로그인 절차 로직상 
  일단 사내 이메일로 무조건 최초는 로그인(하이웍스)로 한다.
  hiworks와연동하여 accesstoken 과 refreshtoken을 받아온다. 이를 spring redis 에 사번과 함께 저장한다.
  이후 자체 jwt를 발급한다. 여기에 사번또는 세션 아이디를 넣는다.
  프론트는 jwt를 vuex 저장한다 이후 서버와 통신떄마다 jwt를 헤더에 넣어서 보낸다.(아님 모든 작업을 할떄마다 서버에서 jwt 체크후 리다이렉트또는 작업을 할수있게 해야하나,마커이동작업중 토큰 만료만 다 날라가나?)
  vue-router에는 beforeEnter라는 인터셉터가 있는데 라우팅 직전에 실행되는 함수다. 
  beforeEnter 인터셉터는 from, to, next 세 개 인자를 받는 함수다. 이를 이용해 서버로 페이지 이동마다 인증을 받은후 인증정보가 없을 경우 로그인 화면으로 리다이렉트 하도록 했다.

  서버는 jwt 토큰 유형성 검사 한다(이부분 애매하다. 만약 탈취후 다른 사람이 이jwt를 기반으로 요청을 한다면? 이에 대응하기 위해 세션id를 넣어준다 그럼 jwt 의미가 퇴색 되지않느가 똔느 sessionid가 탈취될수도 있다)

  다른 소셜 로그인일 경우
  hiworks 로그인후 다른 소셜로그인 연동하기 
  이후 해당 소셜로그인 로그인하기 인증되면 이메일 테이블에 소셜 로그인 이메일 추가(redis에 이 accesstoken과 refresh token을 넣어두어야 할까?)

  이후 해당 소셜로그인 으로 로그인하면
  소셜로그인인중후 이메일 테이블레 등록 되어있는지 체크 되었이다면 이후 절차는 하이웍스와 동일

  구글과 같은 다른 api의 기능은 로그인만 한다는 가정이면 굳이 필요한가? 아니라면 하이웍스로그인자도 구글 로그인을 통해 받아와야함 


---
### 구현방향

#1. 자체토근 인증법
- 자체 토근 발급후 필터로 모든 요청 마다 token을 있는지 확인 및 없으면 로그인 페이지
- 있으면 제대로 된 토큰 인지와 redis에서 확인?
